{"version":3,"sources":["src/js/colors.js","src/js/marker_data.js","src/js/map.js","src/js/markers.js","src/js/ctrl_recenter.js","src/js/ctrl_clock/control.js","src/js/ctrl_clock/day.js","src/js/ctrl_clock/time.js","src/js/ctrl_clock/season.js","src/js/ctrl_clock/weather.js","src/js/ctrl_clock/clock.js","src/js/index.js"],"names":["$","soil","soilDark","pavement","pavementLight","road","roadMarking","grass","grassDark","water","Marker","title","lat","lng","iconFn","iconWidth","iconHeight","this","position","icon","url","scaledSize","width","height","optimized","defaultHeight","scaleWidth","pngWidth","pngHeight","startingPoint","mapCenter","busIcon","markerData","styles","elementType","stylers","visibility","featureType","color","mapOptions","center","zoom","disableDefaultUI","map","initMap","google","maps","Map","document","getElementById","markers","generateMarkers","forEach","data","marker","setMap","push","infowindow","InfoWindow","openInfo","currMarker","setContent","open","closeInfo","close","getContent","initInfoWindow","addListener","initMarkers","img","createElement","setAttribute","hidden","style","margin","cursor","filter","handleClick","setCenter","createControl","div","appendChild","controls","ControlPosition","LEFT_TOP","addEventListener","centerLatLng","LatLng","handleChange","currBounds","getBounds","isCenterInBounds","contains","initRecenter","innerDiv","dayDiv","timeDiv","iconsDiv","weatherImg","seasonImg","createElements","setClasses","className","weatherImgSrc","seasonImgSrc","setDefaultContent","innerHTML","appendElements","createClock","createOuterDiv","outerDiv","initControl","RIGHT_TOP","getWeekDay","getDay","date","setDay","getDate","weekday","getMinutes","minInt","hours","minutes","getTime","getHours","setTime","updateTime","loadData","interval","updateClock","setInterval","season","getSeason","getMonth","dir","setIcon","setSeason","types","getWinterTypes","pop","getWeather","i","Math","floor","random","length","weather","setWeather","Date","initClock"],"mappings":"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","file":"index.js","sourcesContent":["export const $ = {\r\n\tsoil:\t\t\t'#e9d65d',\r\n\tsoilDark:\t\t'#e5bb51',\r\n\tpavement:\t\t'#66797f',\r\n\tpavementLight:\t'#6c996e',\r\n\troad:\t\t\t'#485b4c',\r\n\troadMarking:\t'#607966',\r\n\tgrass:\t\t\t'#40c51b',\r\n\tgrassDark:\t\t'#3ea031',\r\n\twater:\t\t\t'#3c82c3'\r\n}","// MARKER CONSTRUCTOR\r\n\r\nclass Marker {\r\n\tconstructor(title, lat, lng, iconFn, iconWidth, iconHeight) {\r\n\t\tthis.title = title;\r\n\t\tthis.position = { lat, lng };\r\n\t\tthis.icon = {\r\n\t\t\turl: `../assets/png/locations/${iconFn}.png`,\r\n\t\t\tscaledSize: { width: iconWidth, height: iconHeight }\r\n\t\t};\r\n\t\tthis.optimized = false;\r\n\t}\r\n};\r\n\r\n// icon scaling\r\nconst defaultHeight = 90;\r\nconst scaleWidth = (pngWidth, pngHeight) => pngWidth / pngHeight * defaultHeight;\r\n\r\n\r\n// MAP STARTING POINT\r\n\r\nconst startingPoint = new Marker(\r\n\t\"Welcome!\",\r\n\t45.446387508733245, -73.7414325471116,\r\n\t'bus',\r\n\t512/6, 255/6\r\n);\r\n\r\nexport const mapCenter = startingPoint.position;\r\nexport const busIcon = startingPoint.icon.url;\r\n\r\n\r\n// ALL MARKERS\r\n//- title\r\n//- lat, lng\r\n//- iconFn\r\n//- iconWidth, iconHeight\r\n\r\nexport const markerData = [\r\n\tstartingPoint,\r\n\r\n\tnew Marker(\r\n\t\t\"Montréal-Trudeau Airport\",\r\n\t\t45.466151244756595, -73.7456076958713,\r\n\t\t'jojamart',\r\n\t\tscaleWidth(384, 312), defaultHeight\r\n\t),\r\n\r\n\tnew Marker(\r\n\t\t\"Cra-terre Garden\",\r\n\t\t45.52658588605292, -73.6171524003503,\r\n\t\t'witchs_hut',\r\n\t\tscaleWidth(336, 279), defaultHeight\r\n\t),\r\n\r\n\tnew Marker(\r\n\t\t\"Montréal, arts interculturels\",\r\n\t\t45.51153320551439, -73.5761720027772,\r\n\t\t'oasis',\r\n\t\tscaleWidth(508, 664), defaultHeight\r\n\t),\r\n\r\n\tnew Marker(\r\n\t\t\"Jean-Talon Market\",\r\n\t\t45.536395052797445, -73.61421428613065,\r\n\t\t'pierres_shop',\r\n\t\tscaleWidth(322, 320), defaultHeight\r\n\t),\r\n\r\n\tnew Marker(\r\n\t\t\"Place Versailles\",\r\n\t\t45.59255738667644, -73.54073498928062,\r\n\t\t'hat_shop',\r\n\t\tscaleWidth(508, 535), defaultHeight\r\n\t),\r\n\r\n\tnew Marker(\r\n\t\t\"Biodôme\",\r\n\t\t45.5597821824346, -73.54994420832364,\r\n\t\t'leahs_cottage',\r\n\t\tscaleWidth(447, 378), defaultHeight\r\n\t),\r\n\r\n\tnew Marker(\r\n\t\t\"Botanical Garden\",\r\n\t\t45.55999426718373, -73.56299817393943,\r\n\t\t'ranch',\r\n\t\tscaleWidth(1152, 632), defaultHeight\r\n\t),\r\n\r\n\tnew Marker(\r\n\t\t\"La Fontaine Park\",\r\n\t\t45.524517998162835, -73.56850027237539,\r\n\t\t'coop',\r\n\t\tscaleWidth(384, 436), defaultHeight\r\n\t),\r\n\r\n\tnew Marker(\r\n\t\t\"Jarry Park\",\r\n\t\t45.53425977877009, -73.6283952866005,\r\n\t\t'trailer_large',\r\n\t\tscaleWidth(384, 399), defaultHeight\r\n\t),\r\n\r\n\tnew Marker(\r\n\t\t\"Racines Bookstore\",\r\n\t\t45.53630158476484, -73.60382224510487,\r\n\t\t'community_center',\r\n\t\tscaleWidth(384, 320), defaultHeight\r\n\t),\r\n\r\n\tnew Marker(\r\n\t\t\"L'Euguélionne Bookstore\",\r\n\t\t45.51898338320269, -73.55640264135363,\r\n\t\t'saloon',\r\n\t\tscaleWidth(396, 435), defaultHeight\r\n\t),\r\n\r\n\tnew Marker(\r\n\t\t\"Grande Bibliothèque\",\r\n\t\t45.51524100060111, -73.56165316127093,\r\n\t\t'mayors_manor',\r\n\t\tscaleWidth(576, 896), defaultHeight\r\n\t),\r\n\r\n\tnew Marker(\r\n\t\t\"Museum of Fine Arts\",\r\n\t\t45.498528203258694, -73.57947864398147,\r\n\t\t'museum',\r\n\t\tscaleWidth(576, 512), defaultHeight\r\n\t),\r\n\r\n\tnew Marker(\r\n\t\t\"SPCA Montréal\",\r\n\t\t45.496031389370245, -73.65200322848719,\r\n\t\t'1_river_road',\r\n\t\tscaleWidth(568, 640), defaultHeight\r\n\t),\r\n\r\n\tnew Marker(\r\n\t\t\"Mont Royal\",\r\n\t\t45.506321671332806, -73.58794237518575,\r\n\t\t'tent',\r\n\t\tscaleWidth(192, 384), defaultHeight\r\n\t),\r\n\r\n\tnew Marker(\r\n\t\t\"Science Centre\",\r\n\t\t45.50516360342, -73.55034073496597,\r\n\t\t'elliotts_cabin',\r\n\t\tscaleWidth(320, 448), defaultHeight\r\n\t),\r\n\r\n\tnew Marker(\r\n\t\t\"Old Port\",\r\n\t\t45.51540682467202, -73.54669927023373,\r\n\t\t'fish_shop',\r\n\t\tscaleWidth(444, 459), defaultHeight\r\n\t),\r\n];","import { $ } from './colors';\r\nimport { mapCenter } from './marker_data';\r\n\r\n\r\n// map options\r\n\r\nconst styles = [\r\n\t{ elementType: 'labels',\t\t\t\t\t\t\tstylers: [{ visibility: 'off' }] },\r\n\t{ featureType: 'road.local',\t\t\t\t\t\tstylers: [{ visibility: \"off\" }] },\r\n\t{ featureType: 'transit.line',\t\t\t\t\t\tstylers: [{ visibility: 'off' }] },\r\n\t{ featureType: 'transit.station.rail',\t\t\t\tstylers: [{ visibility: 'off' }] },\r\n\r\n\t{ featureType: 'all',\t\t\t\t\t\t\t\tstylers: [{ color: $.soilDark }] },\r\n\t{ featureType: 'landscape',\t\t\t\t\t\t\tstylers: [{ color: $.grass }] },\r\n\t{ featureType: 'water',\t\t\t\t\t\t\t\tstylers: [{ color: $.water }] },\r\n\t{ featureType: 'poi',\t\t\t\t\t\t\t\tstylers: [{ color: $.pavement }] },\r\n\t{ featureType: 'poi.park',\t\t\t\t\t\t\tstylers: [{ color: $.grassDark }] },\r\n\t{ featureType: 'road.arterial',\t\t\t\t\t\tstylers: [{ color: $.soil }] },\r\n\t{ featureType: 'road.highway',\t\t\t\t\t\tstylers: [{ color: $.roadMarking }] },\r\n\t{ featureType: 'road.highway.controlled_access',\tstylers: [{ color: $.road }] },\r\n\t{ featureType: 'transit.station.airport',\t\t\tstylers: [{ color: $.pavement }] },\r\n];\r\n\r\nconst mapOptions = {\r\n\tcenter: mapCenter,\r\n\tzoom: 14,\r\n\tdisableDefaultUI: true,\r\n\tstyles: styles\r\n};\r\n\r\n\r\n// initialize\r\n\r\nexport let map;\r\nexport default function initMap() {\r\n\tmap = new google.maps.Map(document.getElementById('map'), mapOptions);\r\n};","import { map } from './map';\r\nimport { markerData } from './marker_data';\r\n\r\n\r\n// CREATE MARKERS\r\n\r\nlet markers = [];\r\n\r\n// data array => Marker obj\r\nfunction generateMarkers() {\r\n\tmarkerData.forEach(data => {\r\n\t\tconst marker = new google.maps.Marker(data);\r\n\t\tmarker.setMap(map);\r\n\t\tmarkers.push(marker);\r\n\t});\r\n}\r\n\r\n\r\n// INFOWINDOW\r\n\r\nconst infowindow = new google.maps.InfoWindow();\r\n\r\n// actions on click\r\nconst openInfo = currMarker => {\r\n\tinfowindow.setContent(currMarker.title);\r\n\tinfowindow.open(map, currMarker);\r\n}\r\nconst closeInfo = () => {\r\n\tinfowindow.close();\r\n\tinfowindow.setContent(\"\");\r\n}\r\n\r\n// swap content depending on marker\r\nfunction setContent(currMarker) {\r\n\tinfowindow.getContent() !== currMarker.title\r\n\t\t? openInfo(currMarker)\r\n\t\t: closeInfo();\r\n}\r\n\r\n// event listeners\r\nfunction initInfoWindow() {\r\n\tmarkers.forEach(marker => {\r\n\t\tmarker.addListener('click', () => setContent(marker));\r\n\t});\r\n}\r\n\r\n\r\n// INITIALIZE\r\n\r\nexport default function initMarkers() {\r\n\tgenerateMarkers();\r\n\tinitInfoWindow();\r\n};","import { map } from './map';\r\nimport { mapCenter, busIcon } from './marker_data';\r\n\r\n\r\n// HTML ELEMENT\r\n\r\nconst img = document.createElement('img');\r\n\r\nimg.setAttribute('src', busIcon);\r\nimg.hidden = true;\r\n\r\n// styles\r\nimg.style.width = '100px';\r\nimg.style.margin = '15px';\r\nimg.style.cursor = 'pointer';\r\nimg.style.filter = 'drop-shadow(1.5px 1.5px 1.5px #000)';\r\n\r\n// functionality\r\nconst handleClick = () => map.setCenter(mapCenter);\r\nimg.addEventListener('click', handleClick);\r\n\r\n\r\n// GENERATE CONTROL\r\n\r\nfunction createControl() {\r\n\tconst div = document.createElement('div');\r\n\tdiv.appendChild(img);\r\n\tmap.controls[google.maps.ControlPosition.LEFT_TOP].push(div);\r\n}\r\n\r\n// mapCenter coordinates => LatLng obj\r\nconst centerLatLng = new google.maps.LatLng(mapCenter);\r\n\r\n// toggle hidden attr if mapCenter is out of current bounds\r\nfunction handleChange() {\r\n\tconst currBounds = map.getBounds();\r\n\tconst isCenterInBounds = currBounds.contains(centerLatLng);\r\n\timg.hidden = isCenterInBounds;\r\n}\r\n\r\n\r\n// INTIALIZE\r\n\r\nexport default function initRecenter() {\r\n\tcreateControl();\r\n\tmap.addListener('center_changed', handleChange);\r\n}","import { map } from '../map';\r\n\r\n\r\n// CREATE INNER ELEMENTS\r\n\r\nexport let\r\n\tinnerDiv,\r\n\tdayDiv,\r\n\ttimeDiv,\r\n\ticonsDiv,\r\n\tweatherImg,\r\n\tseasonImg;\r\n\r\nfunction createElements() {\r\n\tinnerDiv\t= document.createElement('div'),\r\n\tdayDiv\t\t= document.createElement('div'),\r\n\ticonsDiv\t= document.createElement('div'),\r\n\ttimeDiv\t\t= document.createElement('div'),\r\n\tweatherImg\t= document.createElement('img'),\r\n\tseasonImg\t= document.createElement('img');\r\n}\r\n\r\n\r\n// CUSTOMIZE ELEMENTS\r\n\r\n// set classes\r\nfunction setClasses() {\r\n\tinnerDiv.className\t\t= 'clock';\r\n\tdayDiv.className\t\t= 'clock-day';\r\n\ttimeDiv.className\t\t= 'clock-time';\r\n\ticonsDiv.className\t\t= 'clock-icons';\r\n\tweatherImg.className\t= 'clock-icons-weather';\r\n\tseasonImg.className\t\t= 'clock-icons-season';\r\n}\r\n\r\n// default content\r\nconst weatherImgSrc = '../assets/png/clock/sun.png';\r\nconst seasonImgSrc\t= '../assets/png/clock/spring.png';\r\n\r\nfunction setDefaultContent() {\r\n\tweatherImg.setAttribute('src', weatherImgSrc);\r\n\tseasonImg.setAttribute('src', seasonImgSrc);\r\n\tdayDiv.innerHTML = 'day';\r\n\ttimeDiv.innerHTML = 'time';\r\n}\r\n\r\n// elements structure\r\nfunction appendElements() {\r\n\ticonsDiv.appendChild(weatherImg);\r\n\ticonsDiv.appendChild(seasonImg);\r\n\r\n\tinnerDiv.appendChild(dayDiv);\r\n\tinnerDiv.appendChild(iconsDiv);\r\n\tinnerDiv.appendChild(timeDiv);\r\n}\r\n\r\n\r\n// GENERATE CONTAINERS\r\n\r\n// generate inner div\r\nfunction createClock() {\r\n\tcreateElements();\r\n\tsetDefaultContent();\r\n\tsetClasses();\r\n\tappendElements();\r\n}\r\n\r\n// generate outer div\r\nfunction createOuterDiv() {\r\n\tconst outerDiv = document.createElement('div');\r\n\touterDiv.appendChild(innerDiv);\r\n\treturn outerDiv;\r\n}\r\n\r\n\r\n// INITIALIZE\r\n\r\nexport default function initControl() {\r\n\tcreateClock();\r\n\tconst outerDiv = createOuterDiv();\r\n\tmap.controls[google.maps.ControlPosition.RIGHT_TOP].push(outerDiv);\r\n}","import { data } from './clock';\r\nimport { dayDiv } from './control';\r\n\r\n\r\n// weekday\r\n\r\nfunction getWeekDay() {\r\n\tconst weekdayInt = data.getDay();\r\n\tswitch(weekdayInt) {\r\n\t\tcase 0:\r\n\t\t\treturn 'Sun';\r\n\t\tcase 1:\r\n\t\t\treturn 'Mon';\r\n\t\tcase 2:\r\n\t\t\treturn 'Tue';\r\n\t\tcase 3:\r\n\t\t\treturn 'Wed';\r\n\t\tcase 4:\r\n\t\t\treturn 'Thu';\r\n\t\tcase 5:\r\n\t\t\treturn 'Fri';\r\n\t\tcase 6:\r\n\t\t\treturn 'Sat';\r\n\t}\r\n}\r\n\r\n\r\n// set data\r\n\r\nexport let date;\r\n\r\nexport default function setDay() {\r\n\tdate = data.getDate();\r\n\tconst weekday = getWeekDay();\r\n\r\n\tdayDiv.innerHTML = `${weekday}. ${date}`;\r\n}","import { data, loadData } from './clock';\r\nimport { timeDiv } from './control';\r\n\r\n\r\n// GET DATA\r\n\r\nfunction getMinutes() {\r\n\tlet minInt = data.getMinutes();\r\n\r\n\t// format minutes :MM\r\n\treturn minInt < 10\r\n\t\t? `0${minInt}`\r\n\t\t: minInt;\r\n}\r\n\r\nlet hours,\r\n\tminutes;\r\n\r\nfunction getTime() {\r\n\thours\t= data.getHours();\r\n\tminutes\t= getMinutes();\r\n}\r\n\r\n\r\n// SET DATA\r\n\r\nexport function setTime() {\r\n\tgetTime();\r\n\ttimeDiv.innerHTML = `${hours}:${minutes}`;\r\n}\r\n\r\n\r\n// UPDATE DATA\r\n\r\n// callback\r\nfunction updateTime() {\r\n\tloadData();\r\n\tsetTime();\r\n}\r\n\r\nconst interval = 30000;\r\n\r\nexport function updateClock() {\r\n\tsetInterval(updateTime, interval);\r\n}","import { data } from'./clock';\r\nimport { date } from './day';\r\nimport { seasonImg } from './control';\r\n\r\n\r\n// current season\r\n\r\nexport let season;\r\n\r\nfunction getSeason() {\r\n\tconst month = data.getMonth();\r\n\r\n\tswitch (month) {\r\n\t\tcase 0: //jan\r\n\t\t\treturn season = 'winter';\r\n\t\tcase 1: //feb\r\n\t\t\treturn season = 'winter';\r\n\t\tcase 2: //mar\r\n\t\t\treturn date < 21\r\n\t\t\t\t? season = 'winter'\r\n\t\t\t\t: season = 'spring';\r\n\r\n\t\tcase 3: //apr\r\n\t\t\treturn season = 'spring';\r\n\t\tcase 4: //may\r\n\t\t\treturn season = 'spring';\r\n\t\tcase 5: //jun\r\n\t\t\treturn date < 21\r\n\t\t\t\t? season = 'spring'\r\n\t\t\t\t: season = 'summer';\r\n\r\n\t\tcase 6: //jul\r\n\t\t\treturn season = 'summer';\r\n\t\tcase 7: //aug\r\n\t\t\treturn season = 'summer';\r\n\t\tcase 8: //sep\r\n\t\t\treturn date < 21\r\n\t\t\t\t? season = 'summer'\r\n\t\t\t\t: season = 'fall';\r\n\r\n\t\tcase 9: //oct\r\n\t\t\treturn season = 'fall';\r\n\t\tcase 10: //nov\r\n\t\t\treturn season = 'fall';\r\n\t\tcase 11: //dec\r\n\t\t\treturn date < 21\r\n\t\t\t\t? season = 'fall'\r\n\t\t\t\t: season = 'winter';\r\n\t}\r\n}\r\n\r\n\r\n// season icon\r\n\r\nconst dir = '../assets/png/clock/';\r\nfunction setIcon() {\r\n\tconst icon = dir + season + '.png';\r\n\tseasonImg.setAttribute('src', icon);\r\n};\r\n\r\n\r\n// set data\r\n\r\nexport default function setSeason() {\r\n\tgetSeason();\r\n\tsetIcon();\r\n}","import { season } from './season';\r\nimport { weatherImg } from './control';\r\n\r\n\r\n// WEATHER TYPES\r\n\r\n// default weather types\r\nlet types = [\r\n\t'sun',\r\n\t'rain', // absent on winter\r\n\t'storm' // absent on winter\r\n]\r\n\r\nfunction getWinterTypes() {\r\n\tif (season === 'winter') {\r\n\t\t// remove storm\r\n\t\ttypes.pop();\r\n\r\n\t\t// replace rain with snow\r\n\t\ttypes[1] = 'snow';\r\n\t}\r\n}\r\n\r\n\r\n// GENERATE RANDOM WEATHER\r\n\r\nfunction getWeather() {\r\n\tconst i = Math.floor(Math.random() * types.length);\r\n\tconst weather = types[i];\r\n\treturn weather;\r\n}\r\n\r\n\r\n// ICON\r\n\r\nconst dir = '../assets/png/clock/';\r\n\r\nfunction setIcon(weather) {\r\n\tconst icon = dir + weather + '.png';\r\n\tweatherImg.setAttribute('src', icon);\r\n};\r\n\r\n\r\n// SET DATA\r\n\r\nexport default function setWeather() {\r\n\t// if winter\r\n\tgetWinterTypes();\r\n\r\n\t// set weather\r\n\tconst weather = getWeather();\r\n\tsetIcon(weather);\r\n}","import initControl from './control';\r\nimport setDay from './day';\r\nimport { setTime, updateClock } from './time';\r\nimport setSeason from './season';\r\nimport setWeather from './weather';\r\n\r\n\r\n// data\r\nexport let data;\r\nexport function loadData() {\r\n\tdata = new Date();\r\n}\r\n\r\n\r\n// initialize\r\nexport default function initClock() {\r\n\tinitControl();\r\n\tloadData();\r\n\tsetDay();\r\n\tsetTime();\r\n\tupdateClock();\r\n\tsetSeason();\r\n\tsetWeather();\r\n}","import initMap from './map';\r\nimport initMarkers from './markers';\r\nimport initRecenter from './ctrl_recenter';\r\nimport initClock from './ctrl_clock/clock';\r\n\r\n\r\ninitMap();\r\ninitMarkers();\r\n\r\n// controls\r\ninitRecenter();\r\ninitClock();"]}